{% load bootstrap3 %}
{% load i18n %}

{% include 'editor/fragment_sections.html' %}

<a class="btn btn-sm {% if new %}btn-danger{% else %}btn-default{% endif %} pull-right" href="{{ back_url }}">
    {% trans 'Cancel' %}
</a>

<h3>
    {% if new %}
        {% blocktrans %}New {{ model_title }}{% endblocktrans %}
    {% else %}
        {% blocktrans %}Edit {{ model_title }}{% endblocktrans %}
    {% endif %}
    {% if on_top_of %}
        {% with on_top_of.title as on_top_of_section_title %}
            <small>{% blocktrans %}on top of {{ on_top_of_section_title }}{% endblocktrans %}</small>
        {% endwith %}
    {% endif %}
</h3>
<form action="{{ path }}" method="post" data-onbeforeunload {% if new %}data-new="{{ model_name }}" data-geomtype="{{ geomtype }}"{% else %}data-editing="{{ model_name }}-{{ pk }}"{% endif %}>
    {% csrf_token %}
    {% bootstrap_form form %}
    {% buttons %}
    <button class="invisiblesubmit" type="submit"></button>
    {% if not new %}
        <button type="submit" name="delete" value="1" class="btn btn-danger">
            {% trans 'Delete' %}
        </button>
    {% endif %}
    <button type="submit" accesskey="s" class="btn btn-primary pull-right">
        {% trans 'Save' %}
    </button>
    <a class="btn {% if new %}btn-danger{% else %}btn-default pull-right{% endif %} cancel-btn" href="{{ back_url }}">
        {% trans 'Cancel' %}
    </a>
    {% endbuttons %}
</form>
